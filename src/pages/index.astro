---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import WorkCard from '../components/WorkCard.astro';
import { getCollection } from 'astro:content';
import '../styles/global.css';

const works = await getCollection('works');
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <title>Minimalist Works Grid Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet" />
  </head>
  <body class="min-h-screen">
    <Header />
    <main class="max-w-[800px] mx-auto px-6 pt-10 pb-20">
      <!-- Hero Section with 3D Container -->
      <section class="flex flex-col items-center justify-center mb-24">
        <div class="relative w-full max-w-[500px] aspect-[4/3] flex items-center justify-center">
          <!-- 3D Capybara container - placeholder for Spline or Three.js -->
          <div class="w-full h-full bg-contain bg-no-repeat bg-center" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB2dJec0mmN0zRrLnyYa2RheJzQD7Prgi9AAKZ34CR2ufAOSxsf4hK5QX1f0crm665Mv59TfNsNisX0Pjgwm5RaKPUZFm_THIEz15H8UHD2SqOXK9tskTiagEDnxqMutHbbFPCreiiM06XoQtp1LAIBb8OoWJ1sazLKS4tpK8W1qs1gqe0wWDEW1lflvb30N-S-iMZ92zcQ-jup8DJYyEeqBCSC-DxRGMX7v0z1wFt3Z3L3EQ0XjVlXZMhnZbyFXgNTo55LBkQ26rM');"></div>
        </div>
      </section>

      <!-- Works Section -->
      <section id="works">
        <h2 class="text-2xl font-bold mb-8 inline-block border-b-4 border-white/10 pb-1">Works</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-12">
          {works.map((work) => (
            <WorkCard
              title={work.data.title}
              description={work.data.description}
              image={work.data.image}
              icon={!work.data.image ? 'restaurant' : undefined}
              iconColor={!work.data.image ? 'orange' : undefined}
              link={work.data.link}
            />
          ))}
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>

