---
import { t } from '../i18n/translations';
import { type Locale } from '../i18n/utils';
import LanguageSwitcher from './LanguageSwitcher.astro';

interface Props {
  locale?: Locale;
}

const { locale = 'zh' } = Astro.props;
const currentPath = Astro.url.pathname;
---

<header class="w-full fixed top-0 left-0 right-0 z-30 bg-background-dark/90 backdrop-blur-sm pointer-events-auto">
  <div class="max-w-[800px] mx-auto px-6 h-20 flex items-center justify-between">
    <div class="flex items-center gap-2 group cursor-pointer">
      <div class="size-8 bg-white rounded-lg flex items-center justify-center">
        <svg class="w-5 h-5 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
        </svg>
      </div>
      <span class="font-bold tracking-tight text-lg">{t('meta.title', locale)}</span>
    </div>
    <nav class="flex items-center gap-8">
      <a class="text-sm font-medium hover:text-white/70 transition-colors" href={`/${locale}/`}>{t('nav.works', locale)}</a>
      <a class="text-sm font-medium hover:text-white/70 transition-colors" href={`/${locale}/resume`}>{t('nav.resume', locale)}</a>
      <LanguageSwitcher currentLocale={locale} currentPath={currentPath} />
    </nav>
  </div>
</header>
